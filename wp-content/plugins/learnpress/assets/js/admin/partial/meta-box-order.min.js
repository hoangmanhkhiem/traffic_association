!function(t){"use strict";window.$Vue=window.$Vue||Vue,jQuery((function(){var e=t(".list-order-items").find("tbody");e.on("click",".remove-order-item",(function(o){o.preventDefault();const r=t(this).closest("tr"),d=r.data("item_id");r.remove(),0===e.children(":not(.no-order-items)").length&&e.find(".no-order-items").show(),$Vue.http.post(window.location.href,{order_id:t("#post_ID").val(),items:[d],"lp-ajax":"remove_items_from_order",remove_nonce:t(this).closest(".order-item-row").data("remove_nonce")},{emulateJSON:!0,params:{}}).then((function(e){const o=LP.parseJSON(e.body||e.bodyText);t(".order-subtotal").html(o.order_data.subtotal_html),t(".order-total").html(o.order_data.total_html)}))})),t(".order-date.date-picker-backendorder").on("change",(function(){const e=this.value.split("-");["aa","mm","jj"].forEach((function(o,r){t('input[name="'+o+'"]').val(e[r])}))})).datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,select(){console.log(arguments)}}),t("#learn-press-add-order-item").on("click",(function(){LP.$modalSearchItems.open({data:{postType:"lp_course",context:"order-items",contextId:t("#post_ID").val(),exclude:t(".list-order-items tbody").children(".order-item-row").map((function(){return t(this).data("id")})).get(),show:!0},callbacks:{addItems(){$Vue.http.post(window.location.href,{order_id:this.contextId,items:this.selected,"lp-ajax":"add_items_to_order",nonce:lpGlobalSettings.nonce},{emulateJSON:!0,params:{}}).then((function(o){const r=LP.parseJSON(o.body||o.bodyText),d=e.find(".no-order-items").hide();t(r.item_html).insertBefore(d),t(".order-subtotal").html(r.order_data.subtotal_html),t(".order-total").html(r.order_data.total_html)})),this.close()}}})}))}))}(jQuery);